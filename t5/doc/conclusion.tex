\section{Conclusion}
\label{sec:conclusion}
\begin{table}[!h]
  \centering
  \begin{tabular}{c c c c}
    \hline    
    {\bf Theoretical} & {\bf Value} & {\bf Simulation} & {\bf Value}\\ \hline
    \input{comp.tex} 
  \end{tabular}
  \caption{Comparison of the theoretical and simulated data results, regarding the operating point, frequency response and impedances.}
  \label{tab:comp}
\end{table}

In this laboratory assignment, we managed to build a BandPass Filter (BPF) circuit which is represented in Figure 1. The first step of our analysis was to determine the frequency response by computing the transfer function of the whole circuit.

 The results from the theoretical and simulation analysis confirm that the transistors were operating in this region for each case. It should be noted that there is a small difference in the node voltages between the two analysis. For the theoretical analysis, we used the ideal transistor model, which is based on the ideal p-n diode model. In this model, we assumed the voltage drop happening on the base-emitter junction of the npn and pnp transistors while it is forwardly biased to be constant, VBEON=0.7. However, in reality, this value oscillates which is taken into account in NGspice. These errors can also be further enhanced by greater values of resistances, like the case of RC1.

In the second part of our analysis, we set off to determine the incremental values of the circuit in order to compute its frequency response, as well as its output gain and input/output impedances. According to Table 11, the discrepancy between the simulation and theoretical values is more significant, particularly in the gain . According to the small signal models, the incremental variables of the transistors depend upon its operating point. Therefore, we can assume the errors committed in the operating point analysis to have been carried to the computation of the Gain and frequency response. These calculations were derived from the Ebers-Moll model which does not consider non-ideal effects such as the base-width modulation and recombination in the depletion region. These effects break the linear relationship between the transistor values assumed in the theoretical analysis. Another very important cause is the approximation for high frequencies that we used for the capacitors, which neglets their effect (they become short-circuits). Given that we are studying medium frequencies, this a major source of error in our theoretical analysis, since it disregards the capacitors' impedances, in order to simplify calculations. The exception to this was the frequency response analysis, which did produce more accurate results, even though they were still visually different from the simulated ones, due to other factors.

Despite the discrepancies that have been exposed, it should be noted that both analyses yielded satisfactory results for the input and output impedances. The values for the input impedance are approximately 729 Ohm (theoretical) and 857 Ohm (simulation). Despite the error of 18 percent, the value obtained for the real input impedance is still acceptable given the fact that the typical range for professional microphone output impedances is 50-500 Ohms. Therefore, our circuit would be suitable as a microphone amplifier. This same comment can be applied to the output impedance of our circuit. Both theoretical and simulation values land within the typical range for speaker impedance. In the case of this assignment, our circuit is perfectly suitable for the 8 Ohm speaker.
Furthermore, when it comes to the frequency response of the circuit, as for the lower cut-off frequency, the values obtained matched perfectly. However, we didn't manage to obtain a value for the higher cut-off frequency within the selected spectrum in the theoretical analysis. This can be explained by the fact that we disregarded the transistor's internal capacitances in the calculations. That is not the case in the simulation. NGspice accounts for all the variables of the transistor and, therefore, we obtained an upper cut-off frequency of 2.47423+06 Hz. With this, we managed to obtain a circuit that can clearly operate in the 20Hz-20kHz frequency band, making it perfect as an amplifier.


